<html>
<head>
	<title>TikTok Case Study</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="chota.css?v=0.3">
	<link rel="stylesheet" href="style.css?v=0.3">
	<link rel="stylesheet" href="casestudy.css">
	<link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,100..900&amp;display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap" rel="stylesheet">
	<link rel="shortcut icon" href="images/favicon.ico">
	<meta name="description" content="Portfolio of design work across TikTok, Grab, and Beam">
	<meta name="keywords" content="singapore, user experience design, ui/ux, designer, portfolio">
	<meta name="author" content="Suling Wong">
	<meta name="google-site-verification" content="BuLa3yGRyL01gX4RB4ZOTh1hunDOJXedb4OO-eBVsxg" />
	<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-98385997-1', 'auto');
			ga('require', 'GTM-5ZD3VV7');
			ga('send', 'pageview');
	</script>
</head>
<body>

<section class="top" style="background-color:#2c2c2c;color:white;">
<div class="container" style="z-index:1;position:relative;max-width:940px;">
    <div class="row">
        <div class="col-12 col-12-md">
            <span class="overlay-title">About</span> 
            <h1 class="overlay-title">Evolving a product scope from idea to execution</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-6-md">
            <h2 class="overlay-title">Role</h2> 
            <p class="overlay-title">Senior Product Designer @ TikTok</p>
        </div>
        <div class="col-12 col-6-md">
            <h2 class="overlay-title">Status</h2> 
            <p class="overlay-title">Started Aug 2025</p>
        </div>
        <div class="col-12 col-6-md">
            <h2 class="overlay-title">Challenge</h2> 
            <p class="overlay-title" style="display:flex;gap:12px;margin-bottom:8px;">
                <span style="width:22px;height:22px;background:rgba(255, 255, 255, 0.05);display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:4px;font-size:14px;font-weight:500;">1</span>
                <span style="max-width:400px;">Securing stakeholder alignment without a fully defined direction, while also obtaining cross-team resources to develop a viable plan.</span>
            </p>
            <p class="overlay-title" style="display:flex;gap:12px;">
                <span style="width:22px;height:22px;background:rgba(255, 255, 255, 0.05);display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:4px;font-size:14px;font-weight:500;">2</span>
                <span>No incentives available to encourage voluntary verification from users.</span>
            </p>
        </div>
        <div class="col-12 col-6-md">
            <h2 class="overlay-title">Impact</h2> 
            <p class="overlay-title" style="display:flex;gap:12px;margin-bottom:8px;">
                <span style="width:22px;height:22px;background:rgba(255, 255, 255, 0.05);display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:4px;font-size:14px;font-weight:500;">1</span>
                <span>Scope and direct product vision towards alignment with business goals.</span>
            </p>
            <p class="overlay-title" style="display:flex;gap:12px;margin-bottom:8px;">
                <span style="width:22px;height:22px;background:rgba(255, 255, 255, 0.05);display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:4px;font-size:14px;font-weight:500;">2</span>
                <span>Expected increase in new card verification completion rate by 15%.</span>
            </p>
        </div>
    </div>
</div>
</section>

<section>
<div class="container" style="max-width:940px;">
    <div class="row">
        <div class="project-container">

            <p class="portfolio-header">01</p>
            <h2 class="portfolio-header">Background</h2>
            <div class="row">
                <div class="col-12 col-6-md">
                    <div class="project-feature card" style="padding-bottom:0;">
                        <div>
                            <h3 class="portfolio-content">The problem</h3>
                            <p class="portfolio-content">To prevent fraud, TikTok's risk system erred on the side of caution, flagging many legitimate new card payments which creates friction for real users ultimately impacting conversion.</p>
                        </div>
                        <img src="images/txnmock1.png" alt="" style="max-width:215px;margin:0 auto;">
                    </div>
                </div>
                <div class="col-12 col-6-md">
                    <div class="project-feature card" style="padding-bottom:0;">
                        <div>
                            <h3 class="portfolio-content">The initial proposal</h3>
                            <p class="portfolio-content">Users put off the verification process since it requires documents on hand. To address this, the product team wanted a centralised Security Center where users could verify their card at their convenience.</p>
                        </div>
                        <img src="images/txnmock2.png" alt="" style="max-width:215px;margin:0 auto;">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card-row">
                        <div>
                            <h3 class="portfolio-content">Why a Security Center?</h3>
                            <p class="portfolio-content">The product team wanted to take a proactive approach to risk management, emphasising fraud-prevention education and giving users greater control through features such as spend tracking, limit setting, and an under-18 mode.</p>
                            <hr style="background-color:rgba(0,0,0,0.05);">
                            <p class="portfolio-content">Additionally, there is no permanent entry point for payment card verification. It is only accessible when a user attempts a transaction with a flagged card.</p>
                            <p class="portfolio-content">Given that the objective was to let users complete verification at their convenience, we also evaluated several alternatives including:</p>
                            <p class="portfolio-content" style="display:flex;gap:12px;margin-bottom:8px;">
                                <span style="width:22px;height:22px;background:rgba(0, 0, 0, 0.05);display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:4px;font-size:14px;font-weight:500;">1</span>
                                <span>Placing the entry point before payment, though this approach offered limited long-term scalability.</span>
                            </p>
                            <p class="portfolio-content" style="display:flex;gap:12px;margin-bottom:8px;">
                                <span style="width:22px;height:22px;background:rgba(0, 0, 0, 0.05);display:flex;flex-shrink:0;align-items:center;justify-content:center;border-radius:4px;font-size:14px;font-weight:500;">2</span>
                                <span>Sending follow-up emails, though this may introduce security risks such as email spoofing.</span>
                            </p>
                        </div>
                        <img src="images/txnmock3.png" alt="Image of notice UI on the TikTok Coin mobile website" style="max-width:300px;margin:0 auto;">
                    </div>
                </div>
            </div>

            <p class="portfolio-header">02</p>
            <h2 class="portfolio-header">Roadblock #1</h2>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card-row">
                        <div style="width:100%;">
                            <h3 class="portfolio-content">Gamification without rewards?</h3>
                            <p class="portfolio-content">The product team wanted to gamify the Security Center to drive engagement in order to justify having a dedicated in-app page. However, we were unable to secure virtual or monetary rewards.</p>
                            <p class="portfolio-content">I suggested using non-monetary collectibles such as badges or achievements, but other teams preferred to avoid introducing new reward systems.</p>
                            <p class="portfolio-content">As a result, I had to steer the team away from a levelling model and toward a design where users feel a sense of accomplishment simply by completing tasks.</p>
                        </div>
                        <div class="toggle-content" style="margin-bottom:-60px;">
                            <button class="toggle" aria-label="Toggle between Collectibles and Unlockables" style="margin:0;width:100%;">
                                <div class="switch">
                                    <div class="switch-slider"></div>
                                    <div class="left-label">
                                        <span style="font-size:12px;font-weight:500;">Collectibles</span>
                                    </div>
                                    <div class="right-label">
                                        <span style="font-size:12px;font-weight:500;">Unlockables</span>
                                    </div>
                                </div>
                            </button>
                            <div class="image-container" style="position:relative;width:100%;">
                                <img src="images/txncollect.png" alt="Mockup of collectible achievements in UI" class="switch-image left-image collectibles" style="max-width:215px;">
                                <img src="images/txnunlock.png" alt="Mockup of unlockable features in UI" class="switch-image right-image unlockables" style="max-width:215px;">
                            </div>
                            <script>
                                (function() {
                                    const toggleContent = document.currentScript.closest('.toggle-content');
                                    if (!toggleContent) return;
                                    
                                    const collectiblesToggle = toggleContent.querySelector('.toggle');
                                    const collectiblesSwitch = toggleContent.querySelector('.switch');
                                    const collectiblesImage = toggleContent.querySelector('.collectibles');
                                    const unlockablesImage = toggleContent.querySelector('.unlockables');
                                    const imageContainer = toggleContent.querySelector('.image-container');
                                    
                                    if (collectiblesToggle && collectiblesSwitch && collectiblesImage && unlockablesImage && imageContainer) {
                                        // Initialize: start with Collectibles view (not active = showing Collectibles)
                                        collectiblesSwitch.classList.remove('active');
                                        imageContainer.classList.remove('switch-active');
                                        
                                        collectiblesToggle.addEventListener('click', function(e) {
                                            e.preventDefault();
                                            e.stopPropagation();
                                            const isActive = collectiblesSwitch.classList.toggle('active');
                                            
                                            // Toggle the image container class to switch images
                                            if (isActive) {
                                                imageContainer.classList.add('switch-active');
                                            } else {
                                                imageContainer.classList.remove('switch-active');
                                            }
                                        });
                                    }
                                })();
                                </script>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card">
                        <div>
                            <h3 class="portfolio-content">The explorations</h3>
                            <p class="portfolio-content">The Product team preferred using a score, which is common in Chinese apps. However, international users might find this intimidating and scoring norms vary by region. For instance, a score of 3/5 is viewed positively in Japan but negatively in other markets.</p>
                            <p class="portfolio-content">I also moved away from security and safety type of language within the branding to avoid giving users the impression that their payments were unsafe.</p>
                            <p class="portfolio-content">To illustrate the concepts effectively, I created mockups to show stakeholders how we could apply the different systems to our use case. This helped reinforce my position against displaying actual scores.</p>
                        </div>
                        <div class="toggle-content">
                            <button class="toggle" aria-label="Toggle between Explorations and Matrix" style="margin:0;width:100%;">
                                <div class="switch">
                                    <div class="switch-slider"></div>
                                    <div class="left-label">
                                        <span style="font-size:12px;font-weight:500;">Explorations</span>
                                    </div>
                                    <div class="right-label">
                                        <span style="font-size:12px;font-weight:500;">Matrix</span>
                                    </div>
                                </div>
                            </button>
                            <div class="image-container" style="position:relative;width:100%;">
                                <img src="images/txnexplorations.png" alt="UI explorations" class="switch-image left-image explorations">
                                <img src="images/txnmatrix.png" alt="Matrix of scoring systems" class="switch-image right-image matrix">
                            </div>
                            <script>
                                (function() {
                                    const toggleContent = document.currentScript.closest('.toggle-content');
                                    if (!toggleContent) return;
                                    
                                    const explorationsToggle = toggleContent.querySelector('.toggle');
                                    const explorationsSwitch = toggleContent.querySelector('.switch');
                                    const explorationsImage = toggleContent.querySelector('.explorations');
                                    const matrixImage = toggleContent.querySelector('.matrix');
                                    const imageContainer = toggleContent.querySelector('.image-container');
                                    
                                    if (explorationsToggle && explorationsSwitch && explorationsImage && matrixImage && imageContainer) {
                                        // Initialize: start with Explorations view (not active = showing Explorations)
                                        explorationsSwitch.classList.remove('active');
                                        imageContainer.classList.remove('switch-active');
                                        
                                        explorationsToggle.addEventListener('click', function(e) {
                                            e.preventDefault();
                                            e.stopPropagation();
                                            const isActive = explorationsSwitch.classList.toggle('active');
                                            
                                            // Toggle the image container class to switch images
                                            if (isActive) {
                                                imageContainer.classList.add('switch-active');
                                            } else {
                                                imageContainer.classList.remove('switch-active');
                                            }
                                        });
                                    }
                                })();
                                </script>
                        </div>
                    </div>
                </div>
            </div>

            <p class="portfolio-header">03</p>
            <h2 class="portfolio-header">Roadblock #2</h2>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card">
                        <div>
                            <h3 class="portfolio-content">Only one task?</h3>
                            <p class="portfolio-content">Additional issues emerged as the project progressed. The knowledge base would not have the resources it requires until much later. Additionally, new features such as spending limits and refund request also failed to get scoped.</p>
                            <p class="portfolio-content">The KYC team required a finalised design, and even then they still needed additional time to assess the potential impact from changing the entry points before making a commitment. </p>
                            <p class="portfolio-content">As a result, we were left with just the payment card verification flow which was only available to users who have attempted to make payment with a card.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card" style="padding-bottom:0;">
                        <div>
                            <h3 class="portfolio-content">The pivot</h3>
                            <p class="portfolio-content">Stakeholder confidence in the project was low as creating a standalone page for a single task was not compelling. As such, we pivoted to an alternative approach centered on transactions after building on insights from my earlier research.</p>
                            <p class="portfolio-content">Restricted payments can typically be resolved through card verification. However, users whose Gifting, Exchange, or Withdrawal transactions were blocked were routed to a generic contact form with no means of tracking or following up on their appeal. Hence, establishing a centralised space for managing transaction-related appeals would improve the user experience and help reduce Customer Support workload.</p>
                        </div>
                        <div class="toggle-content">
                            <button class="toggle" aria-label="Toggle between Proposed and Existing" style="margin:0;width:100%;">
                                <div class="switch">
                                    <div class="switch-slider"></div>
                                    <div class="left-label">
                                        <span style="font-size:12px;font-weight:500;">Proposed</span>
                                    </div>
                                    <div class="right-label">
                                        <span style="font-size:12px;font-weight:500;">Existing</span>
                                    </div>
                                </div>
                            </button>
                            <div class="image-container" style="position:relative;width:100%;">
                                <img src="images/txnproposed.png" alt="Proposed appeal flow" class="switch-image left-image proposed">
                                <img src="images/txnexisting.png" alt="Existing appeal flow" class="switch-image right-image existing">
                            </div>
                            <script>
                                (function() {
                                    const toggleContent = document.currentScript.closest('.toggle-content');
                                    if (!toggleContent) return;
                                    
                                    const proposedToggle = toggleContent.querySelector('.toggle');
                                    const proposedSwitch = toggleContent.querySelector('.switch');
                                    const proposedImage = toggleContent.querySelector('.proposed');
                                    const existingImage = toggleContent.querySelector('.existing');
                                    const imageContainer = toggleContent.querySelector('.image-container');
                                    
                                    if (proposedToggle && proposedSwitch && proposedImage && existingImage && imageContainer) {
                                        // Initialize: start with Proposed view (not active = showing Proposed)
                                        proposedSwitch.classList.remove('active');
                                        imageContainer.classList.remove('switch-active');
                                        
                                        proposedToggle.addEventListener('click', function(e) {
                                            e.preventDefault();
                                            e.stopPropagation();
                                            const isActive = proposedSwitch.classList.toggle('active');
                                            
                                            // Toggle the image container class to switch images
                                            if (isActive) {
                                                imageContainer.classList.add('switch-active');
                                            } else {
                                                imageContainer.classList.remove('switch-active');
                                            }
                                        });
                                    }
                                })();
                                </script>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card-row">
                        <div style="width:100%;">
                            <h3 class="portfolio-content">Compromises</h3>
                            <p class="portfolio-content">We pivoted from proactive task-completion to reactive risk management.</p>
                            <p class="portfolio-content">To avoid potentially launching with no actions available to users, we decided to review and renegotiate the timeline of the project to include the ID verification task.</p>
                            <p class="portfolio-content">Currently, ID verification was only available to selected users. In order to open it up to all users within this entrance, additional time was needed for legal and cross-team discussions and development.</p>
                        </div>
                        <div style="width:100%;">
                            <img src="images/txncompromises.png" alt="Image of UI" style="max-width:215px;margin:0 auto;margin-bottom:-60px;">
                        </div>
                    </div>
                </div>
            </div>

            <p class="portfolio-header">04</p>
            <h2 class="portfolio-header">Outcomes</h2>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card">
                        <div>
                            <h3 class="portfolio-content">Targets and expected impact</h3>
                            <p class="portfolio-content">Due to the above constraints, the development and launch had to be pushed back.</p>
                            <p class="portfolio-content">The primary target for this project is to increase new card verification completion rate by 15% through the addition of new, more relevant touchpoints on both web and app.</p>
                            <p class="portfolio-content">While the impact from voluntary KYC completion is minimal, there is potential risk mitigation and cost savings from the high-spending user segment who run the risk of regulatory restrictions. Previous campaigns offered time-limited exclusive and monetary rewards targeted towards high-spending users which only drove a 15% uplift in KYC completion.</p>
                        </div>
                        <div>
                            <img class="expand" src="images/txnverifycard.png" alt="">
                            <p style="font-size:1.2rem;opacity:0.5;text-align:center;margin-top:8px;">â†’ Users can also verify their existing cards to avoid potential transaction issues</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-12-md">
                    <div class="project-feature card">
                        <div>
                            <h3 class="portfolio-content">Takeaways</h3>
                            <p class="portfolio-content">While group reviews seem more efficient for alignment, I've found that messy projects benefit from having individual stakeholder conversations. In less-confrontational cultures, stakeholders may avoid raising concerns publicly to avoid appearing misaligned in front of the group but then surface their actual feedback too late to act on it.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-content">
                <p class="end-text" style="padding-top:40px;opacity:0.3;font-size:1.2rem;">That's all for now!</p>
            </div>

        </div>
    </div>
</div>
</section>

<!-- Image expand overlay -->
<div class="image-expand-overlay" id="imageExpandOverlay">
	<img id="expandedImage" src="" alt="">
</div>

<script>
(function() {
	const expandImages = document.querySelectorAll('.expand');
	const overlay = document.getElementById('imageExpandOverlay');
	const expandedImage = document.getElementById('expandedImage');
	
	if (!overlay || !expandedImage) return;
	
	let currentScale = 1;
	let lastScale = 1;
	let currentTranslate = { x: 0, y: 0 };
	let lastTranslate = { x: 0, y: 0 };
	let initialDistance = 0;
	let isPinching = false;
	let initialTouches = [];
	
	function openOverlay(img) {
		expandedImage.src = img.src;
		expandedImage.alt = img.alt || '';
		overlay.classList.add('active');
		document.body.style.overflow = 'hidden';
		
		// Reset transform
		currentScale = 1;
		lastScale = 1;
		currentTranslate = { x: 0, y: 0 };
		lastTranslate = { x: 0, y: 0 };
		updateTransform();
	}
	
	function closeOverlay() {
		overlay.classList.remove('active');
		document.body.style.overflow = '';
		
		// Reset transform
		currentScale = 1;
		lastScale = 1;
		currentTranslate = { x: 0, y: 0 };
		lastTranslate = { x: 0, y: 0 };
		updateTransform();
	}
	
	function updateTransform() {
		const transform = `translate(${currentTranslate.x}px, ${currentTranslate.y}px) scale(${currentScale})`;
		expandedImage.style.transform = transform;
	}
	
	function getDistance(touch1, touch2) {
		const dx = touch2.clientX - touch1.clientX;
		const dy = touch2.clientY - touch1.clientY;
		return Math.sqrt(dx * dx + dy * dy);
	}
	
	function getMidpoint(touch1, touch2) {
		return {
			x: (touch1.clientX + touch2.clientX) / 2,
			y: (touch1.clientY + touch2.clientY) / 2
		};
	}
	
	let touchStartTime = 0;
	let touchStartPos = { x: 0, y: 0 };
	let hasMoved = false;
	
	// Add click/tap handlers to expand images
	expandImages.forEach(img => {
		img.style.cursor = 'pointer';
		
		// Handle touch events for mobile
		img.addEventListener('touchstart', function(e) {
			if (window.innerWidth < 900) {
				touchStartTime = Date.now();
				touchStartPos = { x: e.touches[0].clientX, y: e.touches[0].clientY };
				hasMoved = false;
			}
		}, { passive: true });
		
		img.addEventListener('touchmove', function(e) {
			if (window.innerWidth < 900 && e.touches[0]) {
				const moveX = Math.abs(e.touches[0].clientX - touchStartPos.x);
				const moveY = Math.abs(e.touches[0].clientY - touchStartPos.y);
				if (moveX > 10 || moveY > 10) {
					hasMoved = true;
				}
			}
		}, { passive: true });
		
		img.addEventListener('touchend', function(e) {
			if (window.innerWidth < 900) {
				const touchDuration = Date.now() - touchStartTime;
				if (!hasMoved && touchDuration < 300) {
					e.preventDefault();
					openOverlay(img);
				}
			}
		});
		
		// Fallback for click on desktop (if needed)
		img.addEventListener('click', function(e) {
			if (window.innerWidth >= 900) {
				// Desktop behavior - could be different or same
				return;
			}
		});
	});
	
	// Close overlay when clicking/tapping outside image
	overlay.addEventListener('click', function(e) {
		if (e.target === overlay) {
			closeOverlay();
		}
	});
	
	// Handle tap on image to close (when not zoomed)
	let imageTouchStartTime = 0;
	let imageTouchStartPos = { x: 0, y: 0 };
	let imageHasMoved = false;
	
	expandedImage.addEventListener('touchstart', function(e) {
		if (e.touches.length === 1 && currentScale <= 1.1) {
			imageTouchStartTime = Date.now();
			imageTouchStartPos = { x: e.touches[0].clientX, y: e.touches[0].clientY };
			imageHasMoved = false;
		}
	}, { passive: true });
	
	expandedImage.addEventListener('touchmove', function(e) {
		if (e.touches.length === 1 && currentScale <= 1.1) {
			const moveX = Math.abs(e.touches[0].clientX - imageTouchStartPos.x);
			const moveY = Math.abs(e.touches[0].clientY - imageTouchStartPos.y);
			if (moveX > 10 || moveY > 10) {
				imageHasMoved = true;
			}
		}
	}, { passive: true });
	
	expandedImage.addEventListener('touchend', function(e) {
		if (e.changedTouches.length === 1 && currentScale <= 1.1) {
			const touchDuration = Date.now() - imageTouchStartTime;
			if (!imageHasMoved && touchDuration < 300) {
				closeOverlay();
			}
		}
	});
	
	// Pinch to zoom functionality
	overlay.addEventListener('touchstart', function(e) {
		if (e.touches.length === 2) {
			isPinching = true;
			initialTouches = [e.touches[0], e.touches[1]];
			initialDistance = getDistance(initialTouches[0], initialTouches[1]);
			lastScale = currentScale;
			imageHasMoved = true; // Prevent close on pinch
		} else if (e.touches.length === 1 && currentScale > 1) {
			// Single touch when zoomed - allow panning
			initialTouches = [e.touches[0]];
			lastTranslate = { ...currentTranslate };
			imageHasMoved = false;
			imageTouchStartTime = Date.now();
			imageTouchStartPos = { x: e.touches[0].clientX, y: e.touches[0].clientY };
		}
	}, { passive: true });
	
	overlay.addEventListener('touchmove', function(e) {
		if (e.touches.length === 2 && isPinching) {
			e.preventDefault();
			const currentDistance = getDistance(e.touches[0], e.touches[1]);
			const scaleChange = currentDistance / initialDistance;
			currentScale = Math.max(1, Math.min(5, lastScale * scaleChange));
			updateTransform();
		} else if (e.touches.length === 1 && currentScale > 1) {
			e.preventDefault();
			const touch = e.touches[0];
			currentTranslate.x = lastTranslate.x + (touch.clientX - initialTouches[0].clientX);
			currentTranslate.y = lastTranslate.y + (touch.clientY - initialTouches[0].clientY);
			updateTransform();
		}
	}, { passive: false });
	
	overlay.addEventListener('touchend', function(e) {
		if (e.touches.length < 2) {
			isPinching = false;
		}
		if (e.touches.length === 0) {
			lastScale = currentScale;
			lastTranslate = { ...currentTranslate };
		}
	}, { passive: true });
	
	// Close on escape key
	document.addEventListener('keydown', function(e) {
		if (e.key === 'Escape' && overlay.classList.contains('active')) {
			closeOverlay();
		}
	});
})();
</script>

</body>
</html>
